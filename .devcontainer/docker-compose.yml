services:
    devcontainer:
        build:
            dockerfile: devcontainer.DockerFile
        restart: always
        command: sleep infinity
        volumes:
            - ../../:/workspaces:cached
    docs:
        env_file:
            - .env
        image: nginxinc/nginx-unprivileged:1.29-alpine
        restart: unless-stopped
        ports:
            - '${PORT_DOCS:-8001}:80'
        volumes:
            - ./docs.conf:/etc/nginx/conf.d/default.conf
            - ../docs/:/app/
    coverage:
        env_file:
            - .env
        image: nginxinc/nginx-unprivileged:1.29-alpine
        restart: unless-stopped
        ports:
            - '${PORT_COVERAGE:-8002}:80'
        volumes:
            - ./coverage.conf:/etc/nginx/conf.d/default.conf
            - ../coverage/:/app/
